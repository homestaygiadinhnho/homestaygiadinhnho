---
layout: 
title: "Karaoke Sao Mai"
permalink: /saomai
description: "Sao Mai Media - Nơi bạn thăng hoa cảm xúc với dịch vụ Karaoke đẳng cấp."
---

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karaoke với YouTube</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Firebase App (the core Firebase SDK) -->
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js"></script>
    
    <script>
  const firebaseConfig = {
    apiKey: "AIzaSyD3eEaMfCsptITqEq8RUG96ATNxZK7HApo",
    authDomain: "sao-mai-media.firebaseapp.com",
    databaseURL: "https://sao-mai-media-default-rtdb.firebaseio.com",
    projectId: "sao-mai-media",
    storageBucket: "sao-mai-media.appspot.com",
    messagingSenderId: "178305038455",
    appId: "1:178305038455:web:c61a630d182b8aa2d12e72",
    measurementId: "G-K4WKWXRN9M"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

        // Hàm tìm kiếm video
        function searchVideos() {
            const query = document.getElementById('searchInput').value;
            const apiKey = 'AIzaSyDXo9tP0rycwrE4tpXokP1AggTRP7Zt2B4'; // Thay bằng API Key của bạn
            const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=5&q=${query}+karaoke&type=video&key=${apiKey}`;

            fetch(url)
                .then(response => response.json())
                .then(data => {
                    const videoList = document.getElementById('videoList');
                    videoList.innerHTML = '';
                    data.items.forEach(item => {
                        const videoId = item.id.videoId;
                        const title = item.snippet.title;

                        const videoItem = document.createElement('div');
                        videoItem.classList.add('bg-gray-800', 'p-4', 'rounded', 'cursor-pointer');

                        const videoInfo = document.createElement('div');
                        videoInfo.innerHTML = `<p>${title}</p>`;

                        const selectButton = document.createElement('button');
                        selectButton.textContent = "Hát Ngay";
                        selectButton.classList.add('bg-green-500', 'hover:bg-green-400', 'p-2', 'rounded-lg', 'text-black');
                        selectButton.onclick = () => {
                            saveSong(videoId, title); // Lưu bài hát vào Firebase
                            window.location.href = `/saomai?videoId=${videoId}&title=${encodeURIComponent(title)}`;
                        };

                        videoItem.appendChild(videoInfo);
                        videoItem.appendChild(selectButton);
                        videoList.appendChild(videoItem);
                    });
                })
                .catch(error => console.log(error));
        }

        // Hàm lưu bài hát vào Firebase
        function saveSong(videoId, title) {
            const songRef = database.ref('songs/' + videoId); // Tạo tham chiếu đến đường dẫn trong Realtime Database
            songRef.set({ title: title, videoId: videoId }) // Lưu videoId và title vào database
                .then(() => {
                    alert('Bài hát đã được lưu!');
                })
                .catch(error => {
                    console.error('Lỗi khi lưu bài hát: ', error);
                });
        }
    </script>

    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body class="bg-gray-900 text-white">
    <div class="container mx-auto py-10 text-center">
        <h1 class="text-4xl font-bold mb-6">Karaoke với YouTube</h1>
        <input type="text" id="searchInput" placeholder="Tìm kiếm bài hát karaoke..." class="p-2 text-black w-1/2 mb-4">
        <button onclick="searchVideos()" class="bg-blue-500 p-2 rounded">Tìm Kiếm</button>

        <div id="videoList" class="grid grid-cols-1 gap-4 mt-8"></div>

        <div id="player" class="mt-10">
            <div id="youtubePlayer" class="w-full h-64"></div>
        </div>
    </div>
</body>
</html>
